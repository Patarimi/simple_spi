########################################
#  This file was generated by hdlmake  #
#  http://ohwr.org/projects/hdl-make/  #
########################################

TOP_MODULE := bench

IVERILOG_OPT := 

#target for performing local simulation
local: sim_pre_cmd simulation sim_post_cmd

VERILOG_SRC := spi_device.v \
spi_device_tb.v \

VERILOG_OBJ := work/spi_device/.spi_device_v \
work/spi_device_tb/.spi_device_tb_v \

VHDL_SRC := 
VHDL_OBJ := 
simulation: include_dirs $(VERILOG_OBJ) $(VHDL_OBJ)
		iverilog $(IVERILOG_OPT) -s $(TOP_MODULE) -o $(TOP_MODULE).vvp -c run.command

include_dirs:
		echo "# IVerilog command file, generated by HDLMake" > run.command



work/spi_device/.spi_device_v: spi_device.v
		echo $< >> run.command
		@mkdir -p $(dir $@) && touch $@


work/spi_device_tb/.spi_device_tb_v: spi_device_tb.v \
work/spi_device/.spi_device_v
		echo $< >> run.command
		@mkdir -p $(dir $@) && touch $@


# USER SIM COMMANDS
sim_pre_cmd:
		
sim_post_cmd:
		

CLEAN_TARGETS := $(LIBS) run.command ivl_vhdl_work work

clean:
		rm -rf $(CLEAN_TARGETS)
mrproper: clean
		rm -rf *.vcd *.vvp

.PHONY: mrproper clean sim_pre_cmd sim_post_cmd simulation
